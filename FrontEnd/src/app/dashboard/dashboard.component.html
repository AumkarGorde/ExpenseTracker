<div class="container">
    <div class="row">
        <div class="col-auto">
          <div class="input-group">
            <div class="input-group-prepend">
              <p class="h5">Hello {{userName$ | async}}, your Budget Limit is <span style="color:red"> &#x20B9; {{budgetOverviewBudgetLimit}} </span> and Balance is <span style="color:blue">&#x20B9; {{summaryTotalBalance}}</span></p>
            </div>
          </div>
        </div>
      </div>
      
      
 <div class="row mt-3">
     <div class="col-sm-6 col-lg-3">
         <div class="card rounded-4 p-3 mb-5 shadow-lg">
             <div class="card-body">
                 <h5 class="card-title">Summary</h5>
                 <div class="summary-content">
                     <table class="table">
                         <tbody>
                             <tr>
                                 <td>Total Expenses :</td>
                                 <td> &#x20B9; {{summaryTotalExpense}}</td>
                             </tr>
                             <tr>
                                 <td>Total Income :</td>
                                 <td> &#x20B9; {{summaryTotalIncome}}</td>
                             </tr>
                         </tbody>
                     </table>
                 </div>
             </div>
         </div>
     </div>
     <div class="col-sm-6 col-lg-3">
         <div class="card rounded-4 p-3 mb-5 shadow-lg">
             <div class="card-body">
                 <h5 class="card-title">Budget Overview</h5>
                 <div class="summary-content">
                     <table class="table">
                         <tbody>
                             <tr>
                                 <td>Budget Limit</td>
                                 <td> &#x20B9; {{budgetOverviewBudgetLimit}}</td>
                             </tr>
                             <tr>
                                 <td><span [ngStyle]="{'color': isTotalSpentGreaterThanBudgetLimit ? 'red' : 'black'}">Spent</span></td>
                                 <td><span [ngStyle]="{'color': isTotalSpentGreaterThanBudgetLimit ? 'red' : 'black'}">&#x20B9; {{budgetOverviewSpent}}</span> </td>
                             </tr>
                         </tbody>
                     </table>
                 </div>
             </div>
         </div>
     </div>
     <div class="col-sm-6 col-lg-3">
         <div class="card rounded-4 p-3 mb-5 shadow-lg" style="height: 219px;">
             <div class="card-body">
                 <h5 class="card-title">Top Spents</h5>
                 <div class="summary-content">
                    <ng-container *ngIf="totalSpentsData?.length; else dummyRecord">
                        <table class="table">
                            <tbody>
                                <tr *ngFor="let item of totalSpentsData">
                                    <td>{{item.categoryName}}</td>
                                    <td> &#x20B9; {{ item.amount }}</td>
                                </tr>
                            </tbody>
                        </table>
                    </ng-container>
                 </div>
             </div>
         </div>
     </div>
     <div class="col-sm-6 col-lg-3">
         <div class="card rounded-4 p-3 mb-5 shadow-lg">
             <div class="card-body">
                 <h5 class="card-title">Financial Goals</h5>
                 <div class="summary-content">
                     <table class="table">
                         <tbody>
                             <tr>
                                 <td>Savings Goal</td>
                                 <td> &#x20B9; {{savingsGoal}}</td>
                             </tr>
                             <tr>
                                 <td> <span [ngStyle]="{'color': isTotalSpentGreaterThanBudgetLimit ? 'red' : 'black'}"> Saved</span></td>
                                 <td> <span [ngStyle]="{'color': isTotalSpentGreaterThanBudgetLimit ? 'red' : 'black'}"> &#x20B9; {{summaryRemainigBudget}}</span></td>
                             </tr>
                         </tbody>
                     </table>
                 </div>
             </div>
         </div>
     </div>
 </div>
 <p class="h2 mt-3">Recent Transactions</p>
 <div class="table">
    <table class="table table-striped">
        <thead>
          <tr>
            <th>Desription</th>
            <th>Category</th>
            <th>ExpenseType</th>
            <th>Amount</th>
            <th>Date</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of recentTransactions">
            <th>{{item.description}}</th>
            <td>{{item.categoryName}}</td>
            <td>{{ item.expenseType === 1 ? 'Income' : 'Expense' }}</td>
            <td>&#x20B9; {{item.amount}}</td>
            <td>{{item.date | date:'yyyy-MM-dd HH:mm:ss' }}</td>
          </tr>
        </tbody>
      </table>
 </div>
</div>
 
<ng-template #dummyRecord>
    <tr>
        <td colspan="2" style="text-align: center;">No records found</td>
    </tr>
</ng-template>